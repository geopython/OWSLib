Imports

    >>> from __future__ import (absolute_import, division, print_function)
    >>> from owslib.wms import WebMapService
    >>> from tests.utils import resource_file, cast_tuple_int_list, cast_tuple_int_list_srs
    >>> from operator import itemgetter

Fake a request to a WMS Server (1.3.0) using saved doc from 
http://webservices.nationalatlas.gov/wms?

    >>> xml = open(resource_file('wms_nationalatlas_getcapabilities_130.xml'), 'rb').read()
    >>> wms = WebMapService('url', version='1.3.0', xml=xml)
    
Test capabilities
-----------------

    >>> wms.identification.type
    'WMS'
    >>> wms.identification.version
    '1.3.0'
    >>> wms.identification.title
    '1 Million Scale WMS Layers from the National Atlas of the United States'
    >>> wms.identification.abstract
    'Test Data for 1 Million Scale'
    >>> wms.identification.keywords
    ['United States', 'National Atlas']
    >>> wms.identification.accessconstraints
    'none'

Test available content layers

    >>> len(wms.contents.keys())
    20

    >>> 'elevation' in [wms[layer].id for layer in wms.contents]
    True

Test single item accessor
    
    >>> wms['elevation'].title
    '1 Million Scale - Elevation 100 Meter Resolution'

    >>> wms['elevation'].keywords
    []
    
    >>> cast_tuple_int_list_srs(wms['elevation'].boundingBox)
    [-179, 17, 180, 71, 'CRS:84']

    >>> cast_tuple_int_list(wms['elevation'].boundingBoxWGS84)
    [-179, 17, 180, 71]
    
    >>> sorted(wms['elevation'].crsOptions)
    ['CRS:84', 'EPSG:102100', 'EPSG:102113', 'EPSG:2163', 'EPSG:3785', 'EPSG:3857', 'EPSG:4267', 'EPSG:4269', 'EPSG:4326', 'EPSG:54004', 'EPSG:54008', 'EPSG:900913']

    >>> len(wms['elevation'].styles) == 1
    True

    >>> 'elevi0100g' in wms['elevation'].styles
    True

    >>> wms['elevation'].styles
    True

    >>> wms['elevation'].styles['elevi0100g']['legend_format']
    'image/gif'

    >>> wms['elevation'].timepositions
    None

    >>> wms['elevation'].defaulttimeposition
    None

    >>> wms['elevation'].parent is not None
    True

    